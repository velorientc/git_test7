Windows Explorer Integration
============================

.. module:: explorer
	:synopsis: Windows explorer integration

Overlay Icons
-------------

TortoiseHg provides visual representation of the file status via overlay
icons in the MS-Explorer windows. This is similar to those that found on
other Tortoise client, such as TortoiseCVS and TortoiseSVN.

TortoiseHg shares the overlay icons with TortoiseSVN (version 1.5.x or
later) and the other "Tortoise" projects via the use of TortoiseOverlays
(another project created by TortoiseSVN team).

.. figure:: figures/overlayicons.png
	:alt: Overlay icons

	Overlay icons in Icons view (XP)

The context menu has an :guilabel:`Update Icons` option which forces
TortoiseHg to refresh the icons in the currently browsed repository or
directory of repositories. The taskbar icon will turn green and the
directory icons will turn into question marks while this refresh is in
progress.

The overlay handler and context menus are configurable.  From any folder
background (even the desktop), right click and select
:menuselection:`TortoiseHg --> Explorer Extension Settings`. In the settings
dialog you can promote individual menu options to the top menu.

.. figure:: figures/taskbarui.png
	:alt: Shell Configuration dialog

	Shell Configuration Dialog

One can selectively disable overlay icons in a specific repository by
editing the :file:`.hg\\thgstatus` file inside the repository and
replacing it's contents with a single line containing::

	@@noicons

Context Menus
-------------

TortoiseHg commands may be accessed via the context menu of Explorer
windows and other applications which use the standard File/Open dialogs.
Here is the context menu for a revisioned folder:

.. figure:: figures/cmenu-nofiles.jpg
	:alt: Context menu

	Context menu for a folder under Mercurial revision control

And here is the context menu for selected files or folders:

.. figure:: figures/cmenu-files.jpg
	:alt: Context menu

	Context menu for file or folder selection

TortoiseHg provides dialogs for the most regularly used Mercurial
commands.  Less frequently used and newly added Mercurial commands
may be accessed from the CLI (command line interface) through
:file:`cmd.exe` on Windows.

Nautilus
--------

TortoiseHg also provides shell integration with the GNOME desktop via a
nautilus-python plugin.  If you have installed TortoiseHg from a
distribution package, the odds are that this extension is already
configured.  If not, please consult our Wiki for instructions on how to
enable this feature.

While the nautilus extension does not have it's own GUI for managing the
overlays and context menus, it does support command promotion into the
top menu.  It requires you to edit your :file:`~/.hgrc` file and add
lines like these::

	[tortoisehg]
	promoteditems = commit, log, synch

.. figure:: figures/nautilus.png
	:alt: Nautilus screenshot

	GNOME/Nautilus screenshot

.. vim: noet ts=4
